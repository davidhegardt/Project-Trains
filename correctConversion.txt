#include "Tag.h"
#include <memory>
#include <list>

int main() {
	int id = 1;
	string typ = "sittvagn";
	int seats = 10;
	bool internet = true;
	
	vector<unique_ptr<Ralsfordon>> fordonVec;
	list<unique_ptr<Ralsfordon>> fordonList;
	//Personvagn(id, typ);
	Ralsfordon newRals(id, typ);
	//Personvagn nyvagn(id, typ);
	Sittvagn nySitt(id, typ, seats, internet);
	Sovvagn nySov(id, typ, seats);

	Opengodsvagn nyOpen(id, typ, 200, 200);
	Closedgodsvagn nyClosed(id, typ, 300);
	Ellok newEllok(id, typ, 300, 200);
	Diesellok newDiesel(id, typ, 250, 20);
	cout << nyOpen.getTyp() << endl;
	cout << nySitt.getTyp() << endl;
	cout << nyClosed.getTyp() << endl;
	cout << nySov.getTyp() << endl;
	cout << newEllok.getTyp() << endl;
	cout << newDiesel.getTyp() << endl;

	
	int tagnummer = 1;
	string start = "GrandCentral Liege";
	string dest = "Guillemins";
	Time startTime(11, 16);
	Time destTime(12, 11);
	int maxSpeed = 167;
	Time delay(0, 0);
	Diesellok diesel1(id, typ, 250, 300);
	STATUS tillstand = RUNNING;
	Closedgodsvagn closed2(id, typ, 300);
	Closedgodsvagn closed3(id, typ, 300);
	string first = diesel1.getTyp();
	list<string> listTest;
	listTest.push_back(first);
	listTest.push_back(closed2.getTyp());
	listTest.push_back(closed3.getTyp());
	

	Tag testTag(tagnummer, start, dest, startTime, destTime, maxSpeed, delay, tillstand, listTest);

	cout << testTag.getStart() << endl;
	cout << testTag.getStartTime() << endl;
	cout << testTag.getDest() << endl;	
	cout << testTag.getDestTime() << endl;
	Time forsening(1,00);
	testTag.changeTime(forsening);
	cout << "Ny avgångstid " << testTag.getStartTime() << endl;
	vector<Ralsfordon*> testVec;
	Closedgodsvagn* closed4 = new Closedgodsvagn(id, typ, 300);
	testVec.push_back(closed4);
	//Ralsfordon* test;
	//test = &testVec[0];
	//conversion(test);
	cout << static_cast<Closedgodsvagn*>(testVec[0])->getLoadVol();
	//list<Ralsfordon> listen = testTag.getFordonList();

	

	return 0;
}